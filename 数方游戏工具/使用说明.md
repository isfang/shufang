# 数方小游戏生成器使用说明

## 📋 概述

本工具可以生成自定义的数方小游戏题目集，支持不同网格大小和题目数量的配置，输出格式为Markdown，题目和答案分离，便于打印和使用。

## 🎮 游戏规则

数方游戏是一种逻辑解谜游戏：

1. **目标**：用直线将网格划分为若干个长方形或正方形区域
2. **规则**：每个区域必须包含一个数字，该数字表示区域的面积（长×宽）  
3. **约束**：所有区域不重叠，完全覆盖整个网格
4. **解答**：每道题目都有唯一的正确解

### 示例

```
题目：        解答：
┌───┬───┐    ┌───┬───┐
│ 2 │ 1 │    │ 2 │ 1 │  ← 2×1区域(面积=2)
│   │ 1 │    │───┼───┤
└───┴───┘    │   │ 1 │  ← 两个1×1区域(面积=1)
             └───┴───┘
```

## 🛠️ 文件说明

### 核心文件

- **`自定义数方游戏生成器.py`** - 主要的生成器模块
- **`快速生成配置.py`** - 简化的配置文件，可直接修改参数后运行

### 辅助文件

- **`数方游戏生成器.py`** - 基础版本生成器
- **`数方游戏题目集.py`** - 固定配置的生成器

## 🚀 快速开始

### 方法一：使用快速配置文件（推荐）

1. **编辑配置**
   ```python
   # 打开 快速生成配置.py 文件
   # 修改 PUZZLE_CONFIG 字典
   PUZZLE_CONFIG = {
       4: 5,   # 4×4 网格 5 题
       5: 3,   # 5×5 网格 3 题  
       6: 2,   # 6×6 网格 2 题
   }
   ```

2. **运行生成**
   ```bash
   python3 快速生成配置.py
   ```

3. **获得输出**
   - `数方游戏_题目_YYYYMMDD_HHMM.md` - 题目文件
   - `数方游戏_答案_YYYYMMDD_HHMM.md` - 答案文件

### 方法二：交互式配置

```bash
python3 自定义数方游戏生成器.py
```

按照提示输入各种网格大小的题目数量。

## ⚙️ 配置选项

### 网格尺寸

支持的网格大小：**3×3** 到 **10×10**

- **3×3, 4×4** - 入门级，适合初学者
- **5×5, 6×6** - 进阶级，适合有基础的孩子  
- **7×7, 8×8** - 挑战级，适合逻辑思维较强的孩子
- **9×9, 10×10** - 专家级，具有相当挑战性

### 预设配置模板

在 `快速生成配置.py` 中提供了多种配置模板：

#### 入门级配置
```python
PUZZLE_CONFIG = {
    3: 3,  # 3×3 网格 3 题
    4: 5,  # 4×4 网格 5 题
    5: 3,  # 5×5 网格 3 题
}
```

#### 进阶级配置  
```python
PUZZLE_CONFIG = {
    4: 3,  # 4×4 网格 3 题
    5: 5,  # 5×5 网格 5 题
    6: 4,  # 6×6 网格 4 题
    7: 3,  # 7×7 网格 3 题
}
```

#### 挑战级配置
```python
PUZZLE_CONFIG = {
    5: 2,  # 5×5 网格 2 题
    6: 3,  # 6×6 网格 3 题  
    7: 4,  # 7×7 网格 4 题
    8: 3,  # 8×8 网格 3 题
    9: 1,  # 9×9 网格 1 题
}
```

#### 大批量配置（适合班级使用）
```python
PUZZLE_CONFIG = {
    4: 10,  # 4×4 网格 10 题
    5: 10,  # 5×5 网格 10 题
    6: 8,   # 6×6 网格 8 题
    7: 5,   # 7×7 网格 5 题
    8: 2,   # 8×8 网格 2 题
}
```

## 📄 输出格式

### Markdown表格格式

题目使用标准的Markdown表格格式：

```markdown
### 第 1 题

|   |   |   |   |
|---|---|---|---|
|  2|   |  4|   |
|  3|  2|   |   |
|   |   |  1|  1|
|   |  1|  1|  1|
```

### 文件结构

**题目文件**包含：
- 游戏规则说明
- 示例题目
- 按网格大小分组的题目
- 生成信息

**答案文件**包含：
- 解答说明
- 对应的答案（用数字标记区域）
- 生成信息

## 🖨️ 打印建议

### 转换为PDF

1. **使用Markdown编辑器**
   - Typora
   - Mark Text  
   - Visual Studio Code + Markdown Preview Enhanced

2. **在线转换工具**
   - Pandoc
   - Markdown to PDF 在线工具

3. **直接打印**
   - 多数现代浏览器支持直接打开 `.md` 文件

### 打印设置

- **纸张**：A4
- **方向**：竖向
- **边距**：标准（2.5cm）
- **字体**：等宽字体（如 Courier New）
- **建议**：双面打印节省纸张

### 分发策略

1. **先给题目文件**，让孩子独立完成
2. **完成后提供答案文件**用于对照检查
3. **按难度分批打印**，循序渐进

## 🎯 使用技巧

### 针对不同年龄段

- **5-7岁**：主要使用 3×3, 4×4 网格
- **8-10岁**：4×4, 5×5, 6×6 网格
- **11-13岁**：5×5, 6×6, 7×7, 8×8 网格
- **成人/挑战**：7×7 及以上网格

### 教学建议

1. **从示例开始**：先让孩子理解规则
2. **循序渐进**：从小网格开始，逐步增加难度
3. **鼓励思考**：引导孩子找出解题策略
4. **错误学习**：分析错误答案，加深理解

### 批量生成

如需要大量题目（如班级使用）：

```python
# 大批量配置示例
PUZZLE_CONFIG = {
    4: 20,   # 适合低年级
    5: 15,   # 适合中年级  
    6: 10,   # 适合高年级
    7: 5,    # 挑战题目
}
```

## 🔧 高级定制

### 修改随机种子

在 `快速生成配置.py` 中修改 `RANDOM_SEED`：

```python
RANDOM_SEED = 123  # 不同的种子生成不同的题目
```

### 自定义文件名

```python
OUTPUT_PREFIX = "我的数方游戏"  # 修改输出文件名前缀
```

### 编程接口

如果您懂编程，可以直接调用生成函数：

```python
from 自定义数方游戏生成器 import generate_custom_puzzle_book

config = {4: 5, 5: 3, 6: 2}
puzzles_md, solutions_md = generate_custom_puzzle_book(config)

# 保存或进一步处理
with open('my_puzzles.md', 'w', encoding='utf-8') as f:
    f.write(puzzles_md)
```

## ❓ 常见问题

### Q: 如何确保题目有解？
A: 生成器采用构造法，先创建有效的矩形划分，再生成题目，确保每道题都有唯一解。

### Q: 可以生成更大的网格吗？
A: 理论上支持任意大小，但建议不超过10×10，因为更大的网格对小朋友来说过于复杂。

### Q: 题目重复怎么办？
A: 修改 `RANDOM_SEED` 为不同的数字即可生成不同的题目集。

### Q: Markdown格式如何打印？
A: 建议先转换为PDF格式再打印，或使用支持Markdown的编辑器直接打印。

## 📞 技术支持

如遇到问题，请检查：

1. **Python版本**：确保使用 Python 3.6+
2. **文件编码**：确保使用 UTF-8 编码
3. **权限问题**：确保有写入当前目录的权限

---

*祝您的孩子在数方游戏中享受思维的乐趣！* 